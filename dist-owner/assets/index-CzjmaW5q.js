import{l as u,c as L,a as C,b as f,e as y,d as v,f as _,g as N,h as P,u as b,L as h,i as O,j as R,k as I,m as B,w as V}from"./index-CiVdtbDw.js";import{M as pe,q as Le,T as ve,n as we,o as ge,p as Pe}from"./index-CiVdtbDw.js";import{r as s,R as S,a as E}from"./router-EZT3hKuU.js";import"./vendor-Csw2ODfV.js";function k(o,n,e){n.center!==e.center&&o.setLatLng(n.center),n.radius!=null&&n.radius!==e.radius&&o.setRadius(n.radius)}function x(o){return o.split(" ").filter(Boolean)}function A(o,n){for(const e of x(n))u.DomUtil.addClass(o,e)}function w(o,n,e){n.bounds instanceof u.LatLngBounds&&n.bounds!==e.bounds&&o.setBounds(n.bounds),n.opacity!=null&&n.opacity!==e.opacity&&o.setOpacity(n.opacity),n.zIndex!=null&&n.zIndex!==e.zIndex&&o.setZIndex(n.zIndex)}const Y=L(function(n){return new u.Control.Attribution(n)}),K=C(function({center:n,children:e,...t},a){const r=new u.Circle(n,t);return f(r,y(a,{overlayContainer:r}))},k),Q=C(function({center:n,children:e,...t},a){const r=new u.CircleMarker(n,t);return f(r,y(a,{overlayContainer:r}))},k),X=C(function({children:n,...e},t){const a=new u.FeatureGroup([],e);return f(a,y(t,{layerContainer:a,overlayContainer:a}))}),ee=C(function({data:n,...e},t){const a=new u.GeoJSON(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),ne=v(function({bounds:n,url:e,...t},a){const r=new u.ImageOverlay(e,n,t);return f(r,y(a,{overlayContainer:r}))},function(n,e,t){if(w(n,e,t),e.bounds!==t.bounds){const a=e.bounds instanceof u.LatLngBounds?e.bounds:new u.LatLngBounds(e.bounds);n.setBounds(a)}e.url!==t.url&&n.setUrl(e.url)}),te=v(function({children:n,...e},t){const a=new u.LayerGroup([],e);return f(a,y(t,{layerContainer:a}))}),H=P(function({children:n,...e},t){const a=new u.Control.Layers(void 0,void 0,e);return f(a,y(t,{layersControl:a}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),J=N(H),G=_(J);function M(o){return function(e){const t=b(),a=s.useRef(e),[r,l]=s.useState(null),{layersControl:c,map:i}=t,d=s.useCallback(p=>{c!=null&&(a.current.checked&&i.addLayer(p),o(c,p,a.current.name),l(p))},[o,c,i]),m=s.useCallback(p=>{c==null||c.removeLayer(p),l(null)},[c]),T=s.useMemo(()=>y(t,{layerContainer:{addLayer:d,removeLayer:m}}),[t,d,m]);return s.useEffect(()=>{r!==null&&a.current!==e&&(e.checked===!0&&(a.current.checked==null||a.current.checked===!1)?i.addLayer(r):a.current.checked===!0&&(e.checked==null||e.checked===!1)&&i.removeLayer(r),a.current=e)}),e.children?S.createElement(h,{value:T},e.children):null}}G.BaseLayer=M(function(n,e,t){n.addBaseLayer(e,t)});G.Overlay=M(function(n,e,t){n.addOverlay(e,t)});const j=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function g(o,n){const{[n]:e,...t}=o;return t}function z(o,n,e){if(j.indexOf(o)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${o}`);if(e.map.getPane(o)!=null)throw new Error(`A pane with this name already exists: ${o}`);const t=n.pane??e.pane,a=t?e.map.getPane(t):void 0,r=e.map.createPane(o,a);if(n.className!=null&&A(r,n.className),n.style!=null)for(const l of Object.keys(n.style))r.style[l]=n.style[l];return r}function F(o,n){const[e]=s.useState(o.name),[t,a]=s.useState(null);s.useImperativeHandle(n,()=>t,[t]);const r=b(),l=s.useMemo(()=>({...r,pane:e}),[r]);return s.useEffect(()=>(a(z(e,o,r)),function(){var d;const i=r.map.getPane(e);(d=i==null?void 0:i.remove)==null||d.call(i),r.map._panes!=null&&(r.map._panes=g(r.map._panes,e),r.map._paneRenderers=g(r.map._paneRenderers,e))}),[]),o.children!=null&&t!=null?E.createPortal(S.createElement(h,{value:l},o.children),t):null}const ae=s.forwardRef(F),oe=C(function({positions:n,...e},t){const a=new u.Polygon(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),re=C(function({positions:n,...e},t){const a=new u.Polyline(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),le=O(function(n,e){const t=new u.Popup(n,e.overlayContainer);return f(t,e)},function(n,e,{position:t},a){s.useEffect(function(){const{instance:l}=n;function c(d){d.popup===l&&(l.update(),a(!0))}function i(d){d.popup===l&&a(!1)}return e.map.on({popupopen:c,popupclose:i}),e.overlayContainer==null?(t!=null&&l.setLatLng(t),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){var m;e.map.off({popupopen:c,popupclose:i}),(m=e.overlayContainer)==null||m.unbindPopup(),e.map.removeLayer(l)}},[n,e,a,t])}),ue=C(function({bounds:n,...e},t){const a=new u.Rectangle(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),ce=L(function(n){return new u.Control.Scale(n)}),U=P(function(n,e){const{attributes:t,bounds:a,...r}=n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null)for(const i of Object.keys(t))l.setAttribute(i,t[i]);const c=new u.SVGOverlay(l,a,r);return f(c,e,l)},w),W=R(U);function Z({children:o,...n},e){const{instance:t,container:a}=W(n).current;return s.useImperativeHandle(e,()=>t),a==null||o==null?null:E.createPortal(o,a)}const ie=s.forwardRef(Z),se=O(function(n,e){const t=new u.Tooltip(n,e.overlayContainer);return f(t,e)},function(n,e,{position:t},a){s.useEffect(function(){const l=e.overlayContainer;if(l==null)return;const{instance:c}=n,i=m=>{m.tooltip===c&&(t!=null&&c.setLatLng(t),c.update(),a(!0))},d=m=>{m.tooltip===c&&a(!1)};return l.on({tooltipopen:i,tooltipclose:d}),l.bindTooltip(c),function(){l.off({tooltipopen:i,tooltipclose:d}),l._map!=null&&l.unbindTooltip()}},[n,e,a,t])}),fe=v(function({bounds:n,url:e,...t},a){var l;const r=new u.VideoOverlay(e,n,t);return t.play===!0&&((l=r.getElement())==null||l.play()),f(r,y(a,{overlayContainer:r}))},function(n,e,t){w(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const a=n.getElement();a!=null&&(e.play===!0&&!t.play?a.play():!e.play&&t.play===!0&&a.pause())}),de=I(function({eventHandlers:n,params:e={},url:t,...a},r){const l=new u.TileLayer.WMS(t,{...e,...V(a,r)});return f(l,r)},function(n,e,t){B(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),ye=L(function(n){return new u.Control.Zoom(n)});export{Y as AttributionControl,K as Circle,Q as CircleMarker,X as FeatureGroup,ee as GeoJSON,ne as ImageOverlay,te as LayerGroup,G as LayersControl,pe as MapContainer,Le as Marker,ae as Pane,oe as Polygon,re as Polyline,le as Popup,ue as Rectangle,ie as SVGOverlay,ce as ScaleControl,ve as TileLayer,se as Tooltip,fe as VideoOverlay,de as WMSTileLayer,ye as ZoomControl,we as useMap,ge as useMapEvent,Pe as useMapEvents};
